<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="robots" content="index, follow, all" />
        <title>Thelia\Tools\FileManager | </title>
                    <link rel="stylesheet" type="text/css" href="../../stylesheet.css">
                            </head>
        <body id="class">
            <div class="header">
        <ul>
            <li><a href="../../classes.html">Classes</a></li>
                            <li><a href="../../namespaces.html">Namespaces</a></li>
                        <li><a href="../../interfaces.html">Interfaces</a></li>
            <li><a href="../../traits.html">Traits</a></li>
            <li><a href="../../doc-index.html">Index</a></li>
            
        </ul>

        <div id="title"></div>

            <div class="type">Class</div>
    <h1><a href="../../Thelia/Tools.html">Thelia\Tools</a>\FileManager</h1>
    </div>
        <div class="content">
                <p>    class
    <strong>FileManager</strong></p>

            <div class="description">
            <p>Created by JetBrains PhpStorm.</p>
            <p>Date: 9/19/13
Time: 3:24 PM</p>

<p>File Manager</p>
        </div>
    
            <h2>Constants</h2>

            <table>
                    <tr>
                <td>TYPE_PRODUCT</td>
                <td class="last">
                    <p><em>
</em></p>
                    <p>
</p>
                </td>
            </tr>
                    <tr>
                <td>TYPE_CATEGORY</td>
                <td class="last">
                    <p><em>
</em></p>
                    <p>
</p>
                </td>
            </tr>
                    <tr>
                <td>TYPE_CONTENT</td>
                <td class="last">
                    <p><em>
</em></p>
                    <p>
</p>
                </td>
            </tr>
                    <tr>
                <td>TYPE_FOLDER</td>
                <td class="last">
                    <p><em>
</em></p>
                    <p>
</p>
                </td>
            </tr>
                    <tr>
                <td>TYPE_MODULE</td>
                <td class="last">
                    <p><em>
</em></p>
                    <p>
</p>
                </td>
            </tr>
                    <tr>
                <td>FILE_TYPE_IMAGES</td>
                <td class="last">
                    <p><em>
</em></p>
                    <p>
</p>
                </td>
            </tr>
                    <tr>
                <td>FILE_TYPE_DOCUMENTS</td>
                <td class="last">
                    <p><em>
</em></p>
                    <p>
</p>
                </td>
            </tr>
            </table>

    
            <h2>Properties</h2>

            <table>
                    <tr>
                <td class="type" id="property_availableType">
                    static                                        array
                </td>
                <td>$availableType</td>
                <td class="last">
</td>
            </tr>
                    <tr>
                <td class="type" id="property_availableFileType">
                    static                                        array
                </td>
                <td>$availableFileType</td>
                <td class="last">
</td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <table>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method___construct">__construct</a>(<abbr title="Symfony\Component\DependencyInjection\ContainerInterface">ContainerInterface</abbr> $container)
                    <p>Constructor</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr>
                </td>
                <td class="last">
                    <a href="#method_copyUploadedFile">copyUploadedFile</a>(int $parentId, string $parentType, <a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a> $model, <abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr> $uploadedFile, string $fileType)
                    <p>Copy UploadedFile into the server storage directory</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    int
                </td>
                <td class="last">
                    <a href="#method_saveImage">saveImage</a>(<a href="../../Thelia/Core/Event/Image/ImageCreateOrUpdateEvent.html"><abbr title="Thelia\Core\Event\Image\ImageCreateOrUpdateEvent">ImageCreateOrUpdateEvent</abbr></a> $event, <a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a> $modelImage)
                    <p>Save image into the database</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    int
                </td>
                <td class="last">
                    <a href="#method_saveDocument">saveDocument</a>(<a href="../../Thelia/Core/Event/Document/DocumentCreateOrUpdateEvent.html"><abbr title="Thelia\Core\Event\Document\DocumentCreateOrUpdateEvent">DocumentCreateOrUpdateEvent</abbr></a> $event, <a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a> $modelDocument)
                    <p>Save document into the database</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    string
                </td>
                <td class="last">
                    <a href="#method_sanitizeFileName">sanitizeFileName</a>(string $string)
                    <p>Sanitizes a filename replacing whitespace with dashes</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    
                </td>
                <td class="last">
                    <a href="#method_deleteFile">deleteFile</a>(<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a> $model, string $parentType, string $fileType)
                    <p>Delete image from file storage and database</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    null|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getImageModel">getImageModel</a>(string $parentType)
                    <p>Get image model from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    null|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getDocumentModel">getDocumentModel</a>(string $parentType)
                    <p>Get document model from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    null|<a href="../../Thelia/Model/CategoryImageQuery.html"><abbr title="Thelia\Model\CategoryImageQuery">CategoryImageQuery</abbr></a>|<a href="../../Thelia/Model/ContentImageQuery.html"><abbr title="Thelia\Model\ContentImageQuery">ContentImageQuery</abbr></a>|<a href="../../Thelia/Model/FolderImageQuery.html"><abbr title="Thelia\Model\FolderImageQuery">FolderImageQuery</abbr></a>|<a href="../../Thelia/Model/ProductImageQuery.html"><abbr title="Thelia\Model\ProductImageQuery">ProductImageQuery</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getImageModelQuery">getImageModelQuery</a>(string $parentType)
                    <p>Get image model query from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    null|<a href="../../Thelia/Model/ProductDocumentQuery.html"><abbr title="Thelia\Model\ProductDocumentQuery">ProductDocumentQuery</abbr></a>|<a href="../../Thelia/Model/CategoryDocumentQuery.html"><abbr title="Thelia\Model\CategoryDocumentQuery">CategoryDocumentQuery</abbr></a>|<a href="../../Thelia/Model/ContentDocumentQuery.html"><abbr title="Thelia\Model\ContentDocumentQuery">ContentDocumentQuery</abbr></a>|<a href="../../Thelia/Model/FolderDocumentQuery.html"><abbr title="Thelia\Model\FolderDocumentQuery">FolderDocumentQuery</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getDocumentModelQuery">getDocumentModelQuery</a>(string $parentType)
                    <p>Get document model query from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    string
                </td>
                <td class="last">
                    <a href="#method_getFormId">getFormId</a>(string $parentType, string $fileType)
                    <p>Get form service id from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    null|<a href="../../Thelia/Model/Category.html"><abbr title="Thelia\Model\Category">Category</abbr></a>|<a href="../../Thelia/Model/Content.html"><abbr title="Thelia\Model\Content">Content</abbr></a>|<a href="../../Thelia/Model/Folder.html"><abbr title="Thelia\Model\Folder">Folder</abbr></a>|<a href="../../Thelia/Model/Product.html"><abbr title="Thelia\Model\Product">Product</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getParentFileModel">getParentFileModel</a>(string $parentType, int $parentId)
                    <p>Get image parent model from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../Thelia/Form/ProductImageModification.html"><abbr title="Thelia\Form\ProductImageModification">ProductImageModification</abbr></a>|<a href="../../Thelia/Form/CategoryImageModification.html"><abbr title="Thelia\Form\CategoryImageModification">CategoryImageModification</abbr></a>|<a href="../../Thelia/Form/ContentImageModification.html"><abbr title="Thelia\Form\ContentImageModification">ContentImageModification</abbr></a>|<a href="../../Thelia/Form/FolderImageModification.html"><abbr title="Thelia\Form\FolderImageModification">FolderImageModification</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getImageForm">getImageForm</a>(string $parentType, <a href="../../Thelia/Core/HttpFoundation/Request.html"><abbr title="Thelia\Core\HttpFoundation\Request">Request</abbr></a> $request)
                    <p>Get image parent model from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    <a href="../../Thelia/Form/ProductDocumentModification.html"><abbr title="Thelia\Form\ProductDocumentModification">ProductDocumentModification</abbr></a>|<a href="../../Thelia/Form/CategoryDocumentModification.html"><abbr title="Thelia\Form\CategoryDocumentModification">CategoryDocumentModification</abbr></a>|<a href="../../Thelia/Form/ContentDocumentModification.html"><abbr title="Thelia\Form\ContentDocumentModification">ContentDocumentModification</abbr></a>|<a href="../../Thelia/Form/FolderDocumentModification.html"><abbr title="Thelia\Form\FolderDocumentModification">FolderDocumentModification</abbr></a>
                </td>
                <td class="last">
                    <a href="#method_getDocumentForm">getDocumentForm</a>(string $parentType, <a href="../../Thelia/Core/HttpFoundation/Request.html"><abbr title="Thelia\Core\HttpFoundation\Request">Request</abbr></a> $request)
                    <p>Get document parent model from type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    string
                </td>
                <td class="last">
                    <a href="#method_getUploadDir">getUploadDir</a>(string $parentType, string $fileType)
                    <p>Get image upload dir</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    string
                </td>
                <td class="last">
                    <a href="#method_getRedirectionUrl">getRedirectionUrl</a>(string $parentType, int $parentId, string $fileType)
                    <p>Deduce image redirecting URL from parent type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    string
                </td>
                <td class="last">
                    <a href="#method_renameFile">renameFile</a>(int $modelId, <abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr> $uploadedFile)
                    <p>Rename file with image model id</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    bool
                </td>
                <td class="last">
                    <a href="#method_isImage">isImage</a>(string $mimeType)
                    <p>Check if a file is an image Check based on mime type</p>
                </td>
                <td></td>
            </tr>
                    <tr>
                <td class="type">
                    static&nbsp;array
                </td>
                <td class="last">
                    <a href="#method_getAvailableTypes">getAvailableTypes</a>()
                    <p>Return all document and image types</p>
                </td>
                <td></td>
            </tr>
            </table>


        <h2>Details</h2>

                        <h3 id="method___construct">
        <div class="location">at line 96</div>
        <code>            public            
    <strong>__construct</strong>(<abbr title="Symfony\Component\DependencyInjection\ContainerInterface">ContainerInterface</abbr> $container)</code>
    </h3>
    <div class="details">
        <p>Constructor</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><abbr title="Symfony\Component\DependencyInjection\ContainerInterface">ContainerInterface</abbr></td>
                <td>$container</td>
                <td>Service container</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_copyUploadedFile">
        <div class="location">at line 114</div>
        <code>            public            <abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr>
    <strong>copyUploadedFile</strong>(int $parentId, string $parentType, <a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a> $model, <abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr> $uploadedFile, string $fileType)</code>
    </h3>
    <div class="details">
        <p>Copy UploadedFile into the server storage directory</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$parentId</td>
                <td>Parent id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Image type</td>
            </tr>
                    <tr>
                <td><a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a></td>
                <td>$model</td>
                <td>Model saved</td>
            </tr>
                    <tr>
                <td><abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr></td>
                <td>$uploadedFile</td>
                <td>Ready to be uploaded file</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$fileType</td>
                <td>File type ex FileManager::FILE<em>TYPE</em>IMAGES</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr></td>
            <td>
</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../Thelia/Exception/ImageException.html"><abbr title="Thelia\Exception\ImageException">ImageException</abbr></a></td>
                <td>
</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_saveImage">
        <div class="location">at line 149</div>
        <code>            public            int
    <strong>saveImage</strong>(<a href="../../Thelia/Core/Event/Image/ImageCreateOrUpdateEvent.html"><abbr title="Thelia\Core\Event\Image\ImageCreateOrUpdateEvent">ImageCreateOrUpdateEvent</abbr></a> $event, <a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a> $modelImage)</code>
    </h3>
    <div class="details">
        <p>Save image into the database</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../Thelia/Core/Event/Image/ImageCreateOrUpdateEvent.html"><abbr title="Thelia\Core\Event\Image\ImageCreateOrUpdateEvent">ImageCreateOrUpdateEvent</abbr></a></td>
                <td>$event</td>
                <td>Image event</td>
            </tr>
                    <tr>
                <td><a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a></td>
                <td>$modelImage</td>
                <td>Image to save</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>int</td>
            <td>Nb lines modified</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../Thelia/Exception/ImageException.html"><abbr title="Thelia\Exception\ImageException">ImageException</abbr></a></td>
                <td>
</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_saveDocument">
        <div class="location">at line 207</div>
        <code>            public            int
    <strong>saveDocument</strong>(<a href="../../Thelia/Core/Event/Document/DocumentCreateOrUpdateEvent.html"><abbr title="Thelia\Core\Event\Document\DocumentCreateOrUpdateEvent">DocumentCreateOrUpdateEvent</abbr></a> $event, <a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a> $modelDocument)</code>
    </h3>
    <div class="details">
        <p>Save document into the database</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../Thelia/Core/Event/Document/DocumentCreateOrUpdateEvent.html"><abbr title="Thelia\Core\Event\Document\DocumentCreateOrUpdateEvent">DocumentCreateOrUpdateEvent</abbr></a></td>
                <td>$event</td>
                <td>Image event</td>
            </tr>
                    <tr>
                <td><a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a></td>
                <td>$modelDocument</td>
                <td>Document to save</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>int</td>
            <td>Nb lines modified</td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table>
                    <tr>
                <td><a href="../../Thelia/Model/Exception/InvalidArgumentException.html"><abbr title="Thelia\Model\Exception\InvalidArgumentException">InvalidArgumentException</abbr></a></td>
                <td>
</td>
            </tr>
            </table>

            
                    </div>
    </div>

                <h3 id="method_sanitizeFileName">
        <div class="location">at line 266</div>
        <code>            public            string
    <strong>sanitizeFileName</strong>(string $string)</code>
    </h3>
    <div class="details">
        <p>Sanitizes a filename replacing whitespace with dashes</p>
        <p>Removes special characters that are illegal in filenames on certain
operating systems and special characters requiring special escaping
to manipulate at the command line.</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$string</td>
                <td>The filename to be sanitized</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>string</td>
            <td>The sanitized filename</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_deleteFile">
        <div class="location">at line 280</div>
        <code>            public            
    <strong>deleteFile</strong>(<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a> $model, string $parentType, string $fileType)</code>
    </h3>
    <div class="details">
        <p>Delete image from file storage and database</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td><a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a></td>
                <td>$model</td>
                <td>File being deleted</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$fileType</td>
                <td>File type ex FileManager::FILE<em>TYPE</em>DOCUMENTS</td>
            </tr>
            </table>

            
            
            
                    </div>
    </div>

                <h3 id="method_getImageModel">
        <div class="location">at line 296</div>
        <code>            public            null|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a>
    <strong>getImageModel</strong>(string $parentType)</code>
    </h3>
    <div class="details">
        <p>Get image model from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>null|<a href="../../Thelia/Model/CategoryImage.html"><abbr title="Thelia\Model\CategoryImage">CategoryImage</abbr></a>|<a href="../../Thelia/Model/ContentImage.html"><abbr title="Thelia\Model\ContentImage">ContentImage</abbr></a>|<a href="../../Thelia/Model/FolderImage.html"><abbr title="Thelia\Model\FolderImage">FolderImage</abbr></a>|<a href="../../Thelia/Model/ProductImage.html"><abbr title="Thelia\Model\ProductImage">ProductImage</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getDocumentModel">
        <div class="location">at line 327</div>
        <code>            public            null|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a>
    <strong>getDocumentModel</strong>(string $parentType)</code>
    </h3>
    <div class="details">
        <p>Get document model from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>null|<a href="../../Thelia/Model/ProductDocument.html"><abbr title="Thelia\Model\ProductDocument">ProductDocument</abbr></a>|<a href="../../Thelia/Model/CategoryDocument.html"><abbr title="Thelia\Model\CategoryDocument">CategoryDocument</abbr></a>|<a href="../../Thelia/Model/ContentDocument.html"><abbr title="Thelia\Model\ContentDocument">ContentDocument</abbr></a>|<a href="../../Thelia/Model/FolderDocument.html"><abbr title="Thelia\Model\FolderDocument">FolderDocument</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getImageModelQuery">
        <div class="location">at line 358</div>
        <code>            public            null|<a href="../../Thelia/Model/CategoryImageQuery.html"><abbr title="Thelia\Model\CategoryImageQuery">CategoryImageQuery</abbr></a>|<a href="../../Thelia/Model/ContentImageQuery.html"><abbr title="Thelia\Model\ContentImageQuery">ContentImageQuery</abbr></a>|<a href="../../Thelia/Model/FolderImageQuery.html"><abbr title="Thelia\Model\FolderImageQuery">FolderImageQuery</abbr></a>|<a href="../../Thelia/Model/ProductImageQuery.html"><abbr title="Thelia\Model\ProductImageQuery">ProductImageQuery</abbr></a>
    <strong>getImageModelQuery</strong>(string $parentType)</code>
    </h3>
    <div class="details">
        <p>Get image model query from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>null|<a href="../../Thelia/Model/CategoryImageQuery.html"><abbr title="Thelia\Model\CategoryImageQuery">CategoryImageQuery</abbr></a>|<a href="../../Thelia/Model/ContentImageQuery.html"><abbr title="Thelia\Model\ContentImageQuery">ContentImageQuery</abbr></a>|<a href="../../Thelia/Model/FolderImageQuery.html"><abbr title="Thelia\Model\FolderImageQuery">FolderImageQuery</abbr></a>|<a href="../../Thelia/Model/ProductImageQuery.html"><abbr title="Thelia\Model\ProductImageQuery">ProductImageQuery</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getDocumentModelQuery">
        <div class="location">at line 389</div>
        <code>            public            null|<a href="../../Thelia/Model/ProductDocumentQuery.html"><abbr title="Thelia\Model\ProductDocumentQuery">ProductDocumentQuery</abbr></a>|<a href="../../Thelia/Model/CategoryDocumentQuery.html"><abbr title="Thelia\Model\CategoryDocumentQuery">CategoryDocumentQuery</abbr></a>|<a href="../../Thelia/Model/ContentDocumentQuery.html"><abbr title="Thelia\Model\ContentDocumentQuery">ContentDocumentQuery</abbr></a>|<a href="../../Thelia/Model/FolderDocumentQuery.html"><abbr title="Thelia\Model\FolderDocumentQuery">FolderDocumentQuery</abbr></a>
    <strong>getDocumentModelQuery</strong>(string $parentType)</code>
    </h3>
    <div class="details">
        <p>Get document model query from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>null|<a href="../../Thelia/Model/ProductDocumentQuery.html"><abbr title="Thelia\Model\ProductDocumentQuery">ProductDocumentQuery</abbr></a>|<a href="../../Thelia/Model/CategoryDocumentQuery.html"><abbr title="Thelia\Model\CategoryDocumentQuery">CategoryDocumentQuery</abbr></a>|<a href="../../Thelia/Model/ContentDocumentQuery.html"><abbr title="Thelia\Model\ContentDocumentQuery">ContentDocumentQuery</abbr></a>|<a href="../../Thelia/Model/FolderDocumentQuery.html"><abbr title="Thelia\Model\FolderDocumentQuery">FolderDocumentQuery</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getFormId">
        <div class="location">at line 421</div>
        <code>            public            string
    <strong>getFormId</strong>(string $parentType, string $fileType)</code>
    </h3>
    <div class="details">
        <p>Get form service id from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$fileType</td>
                <td>Parent id</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getParentFileModel">
        <div class="location">at line 464</div>
        <code>            public            null|<a href="../../Thelia/Model/Category.html"><abbr title="Thelia\Model\Category">Category</abbr></a>|<a href="../../Thelia/Model/Content.html"><abbr title="Thelia\Model\Content">Content</abbr></a>|<a href="../../Thelia/Model/Folder.html"><abbr title="Thelia\Model\Folder">Folder</abbr></a>|<a href="../../Thelia/Model/Product.html"><abbr title="Thelia\Model\Product">Product</abbr></a>
    <strong>getParentFileModel</strong>(string $parentType, int $parentId)</code>
    </h3>
    <div class="details">
        <p>Get image parent model from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$parentId</td>
                <td>Parent Id</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>null|<a href="../../Thelia/Model/Category.html"><abbr title="Thelia\Model\Category">Category</abbr></a>|<a href="../../Thelia/Model/Content.html"><abbr title="Thelia\Model\Content">Content</abbr></a>|<a href="../../Thelia/Model/Folder.html"><abbr title="Thelia\Model\Folder">Folder</abbr></a>|<a href="../../Thelia/Model/Product.html"><abbr title="Thelia\Model\Product">Product</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getImageForm">
        <div class="location">at line 495</div>
        <code>            public            <a href="../../Thelia/Form/ProductImageModification.html"><abbr title="Thelia\Form\ProductImageModification">ProductImageModification</abbr></a>|<a href="../../Thelia/Form/CategoryImageModification.html"><abbr title="Thelia\Form\CategoryImageModification">CategoryImageModification</abbr></a>|<a href="../../Thelia/Form/ContentImageModification.html"><abbr title="Thelia\Form\ContentImageModification">ContentImageModification</abbr></a>|<a href="../../Thelia/Form/FolderImageModification.html"><abbr title="Thelia\Form\FolderImageModification">FolderImageModification</abbr></a>
    <strong>getImageForm</strong>(string $parentType, <a href="../../Thelia/Core/HttpFoundation/Request.html"><abbr title="Thelia\Core\HttpFoundation\Request">Request</abbr></a> $request)</code>
    </h3>
    <div class="details">
        <p>Get image parent model from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
                    <tr>
                <td><a href="../../Thelia/Core/HttpFoundation/Request.html"><abbr title="Thelia\Core\HttpFoundation\Request">Request</abbr></a></td>
                <td>$request</td>
                <td>Request service</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../Thelia/Form/ProductImageModification.html"><abbr title="Thelia\Form\ProductImageModification">ProductImageModification</abbr></a>|<a href="../../Thelia/Form/CategoryImageModification.html"><abbr title="Thelia\Form\CategoryImageModification">CategoryImageModification</abbr></a>|<a href="../../Thelia/Form/ContentImageModification.html"><abbr title="Thelia\Form\ContentImageModification">ContentImageModification</abbr></a>|<a href="../../Thelia/Form/FolderImageModification.html"><abbr title="Thelia\Form\FolderImageModification">FolderImageModification</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getDocumentForm">
        <div class="location">at line 527</div>
        <code>            public            <a href="../../Thelia/Form/ProductDocumentModification.html"><abbr title="Thelia\Form\ProductDocumentModification">ProductDocumentModification</abbr></a>|<a href="../../Thelia/Form/CategoryDocumentModification.html"><abbr title="Thelia\Form\CategoryDocumentModification">CategoryDocumentModification</abbr></a>|<a href="../../Thelia/Form/ContentDocumentModification.html"><abbr title="Thelia\Form\ContentDocumentModification">ContentDocumentModification</abbr></a>|<a href="../../Thelia/Form/FolderDocumentModification.html"><abbr title="Thelia\Form\FolderDocumentModification">FolderDocumentModification</abbr></a>
    <strong>getDocumentForm</strong>(string $parentType, <a href="../../Thelia/Core/HttpFoundation/Request.html"><abbr title="Thelia\Core\HttpFoundation\Request">Request</abbr></a> $request)</code>
    </h3>
    <div class="details">
        <p>Get document parent model from type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
                    <tr>
                <td><a href="../../Thelia/Core/HttpFoundation/Request.html"><abbr title="Thelia\Core\HttpFoundation\Request">Request</abbr></a></td>
                <td>$request</td>
                <td>Request service</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td><a href="../../Thelia/Form/ProductDocumentModification.html"><abbr title="Thelia\Form\ProductDocumentModification">ProductDocumentModification</abbr></a>|<a href="../../Thelia/Form/CategoryDocumentModification.html"><abbr title="Thelia\Form\CategoryDocumentModification">CategoryDocumentModification</abbr></a>|<a href="../../Thelia/Form/ContentDocumentModification.html"><abbr title="Thelia\Form\ContentDocumentModification">ContentDocumentModification</abbr></a>|<a href="../../Thelia/Form/FolderDocumentModification.html"><abbr title="Thelia\Form\FolderDocumentModification">FolderDocumentModification</abbr></a></td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getUploadDir">
        <div class="location">at line 558</div>
        <code>            public            string
    <strong>getUploadDir</strong>(string $parentType, string $fileType)</code>
    </h3>
    <div class="details">
        <p>Get image upload dir</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex FileManager::TYPE_PRODUCT</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$fileType</td>
                <td>File type ex : self::FILE<em>TYPE</em>DOCUMENTS</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>string</td>
            <td>Uri</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getRedirectionUrl">
        <div class="location">at line 594</div>
        <code>            public            string
    <strong>getRedirectionUrl</strong>(string $parentType, int $parentId, string $fileType)</code>
    </h3>
    <div class="details">
        <p>Deduce image redirecting URL from parent type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$parentType</td>
                <td>Parent type ex : self::TYPE_PRODUCT</td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$parentId</td>
                <td>Parent id</td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$fileType</td>
                <td>File type ex : self::FILE<em>TYPE</em>DOCUMENTS</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_renameFile">
        <div class="location">at line 644</div>
        <code>            public            string
    <strong>renameFile</strong>(int $modelId, <abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr> $uploadedFile)</code>
    </h3>
    <div class="details">
        <p>Rename file with image model id</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>int</td>
                <td>$modelId</td>
                <td>Model id</td>
            </tr>
                    <tr>
                <td><abbr title="Symfony\Component\HttpFoundation\File\UploadedFile">UploadedFile</abbr></td>
                <td>$uploadedFile</td>
                <td>File being saved</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>string</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_isImage">
        <div class="location">at line 669</div>
        <code>            public            bool
    <strong>isImage</strong>(string $mimeType)</code>
    </h3>
    <div class="details">
        <p>Check if a file is an image Check based on mime type</p>
        <p>
</p>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table>
                    <tr>
                <td>string</td>
                <td>$mimeType</td>
                <td>File mime type</td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>bool</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

                <h3 id="method_getAvailableTypes">
        <div class="location">at line 686</div>
        <code>        static    public            array
    <strong>getAvailableTypes</strong>()</code>
    </h3>
    <div class="details">
        <p>Return all document and image types</p>
        <p>
</p>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table>
        <tr>
            <td>array</td>
            <td>
</td>
        </tr>
    </table>

            
            
                    </div>
    </div>

    
            </div>
            <div id="footer">
        Generated by <a href="http://sami.sensiolabs.org/" target="_top">Sami, the API Documentation Generator</a>.
    </div>
    </body>
</html>
